---
category: shader
tags: [U3D, Shader,Cookbook,中文版]
---


## 向着色器添加贴图 <span id = "ATTS"></span>

通过贴图，可以很容易让着色器变得生动起来，获得非常真实的效果。为了更有效的使用贴图，我们需要了解一张2D图片是如何映射到3D模型中去的。 这个映射的过程称之为**贴图映射texture mapping**，为了完成映射，我们在使用的模型和着色器上还有额外的工作。模型实际上是由很多的三角形拼接而成的；而三角形的每个顶点都保存有着色器可以访问的各种数据。 其中很重要的一个信息就是**UV信息 (UV data)**。 它包含两个坐标，**U**和**V**，其取值范围是0到1。这两者表示2D图片的像素点坐标的**XY**位置信息，而这些信息将会映射到顶点中去。 UV数据只为顶点表示[意思可能也等价于：UV数据只存在顶点中]； 当三角内的点需要被贴图映射时，GPU会插值最接近的UV值，从而从相应的贴图中找到正确的像素点。下面的图片展示了一张2D贴图映射到3D模型中的三角形中的情况：

  <div align="center"><img src="https://linkliu.github.io/tech-landscape/assets/img/shader_book/diagram12.png"/></div>

UV数据保存在3D模型中并且需要3D模型工具去编辑它们。有些模型缺少UV组件，因而它们不支持贴图映射。比如3D模型软件中的默认的那个兔子模型，就没有提供这么一个组件。

- **始前准备**<span id="ATTS_getting_ready"></span>

  学习这个知识点的时候，你需要一个有UV数据和贴图的3D模型。然后把它们都导入到Unity中。也可以直接拖拽到Unity编辑器中，会自动导入。因为标准着色器支持默认的贴图映射。我们会用到这一点，而后会详细的介绍它是如何工作的。
  
  ***


- **操作步骤**<span id = "ATTS_how_to_do_it">

  用标准着色器给你的模型添加一张贴图异常的简单，按照下面步骤：
  1. 创建一个叫**TexturedShader**标准着色器。
  
  2. 创建一个名为**TexturedMaterial**的材质球。
  
  3. 通过拖拽的方式，把着色器赋值给材质，把着色器拖到材质上即可。
  
  4. 选择刚才的材质，然后拖拽模型对应的贴图到一个叫**Albedo(RGB)**的矩形区域中的空白部分。如果你正确的执行了上述步骤，你的材质**查看面板(Inspector )**会如下图所示：
  
    <div align="center"><img src="https://linkliu.github.io/tech-landscape/assets/img/shader_book/diagram13.jpg"/></div>
    <div align="center">标准着色器知道如何通过UV信息把2D图像映射到3D模型中</div>.

- **原理介绍**

  当通过材质的查看面板使用标准材质的时候，贴图映射背后的处理过程对于开发者来说是透明的